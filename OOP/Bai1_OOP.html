<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div>
    <form>
        <h2>Thông Tin Tài Khoản</h2>
    </form>
</div>
<hr>
<div id="tableUser"></div>
<script>
    class bankAccount {
        constructor(idAccount, userAccount, moneyAccount) {
            this.idAccount = idAccount;
            this.userAccount = userAccount;
            this.moneyAccount = moneyAccount;
        }

        getIdAccount() {
            return this.idAccount;
        }

        setIdAccount(idAccount) {
            this.idAccount = idAccount;
        }

        getUserAccount() {
            return this.userAccount;
        }

        setUserAccount(userAccount) {
            this.userAccount = userAccount;
        }

        getMoneyAccount() {
            return this.moneyAccount;
        }

        setMoneyAccount(moneyAccount) {
            this.moneyAccount = moneyAccount;
        }

        toString() {
            return 'ID Account :' + this.idAccount + 'User Account :' + this.userAccount
        }

        themTien(tien) {
            this.moneyAccount += tien;
        }

        truTien(tien) {
            this.moneyAccount -= tien;
        }
    }

    let user1 = new bankAccount('001', 'Trung', 1000);
    let user2 = new bankAccount('002', 'Quy', 2000);
    let user3 = new bankAccount('003', 'Hoang', 5000);
    let listUser = [];
    listUser.push(user1, user2, user3);
    console.log(listUser);

    function displayListUser(listUser) {
        let table = "<table border='2' style='border-collapse: collapse'>";
        table += "<tr>" +
            "<th>ID</th>" +
            "<th>User</th>" +
            "<th>Money</th>" +
            "<th colspan='2'>Edit</th>" +
            "</tr>";
        for (let i = 0; i < listUser.length; i++) {
            table += "<tr>" +
                "<td>" + listUser[i].idAccount + "</td>" +
                "<td>" + listUser[i].userAccount + "</td>" +
                "<td>" + listUser[i].moneyAccount + "</td>" +
                "<td><button onclick='addmoney (" + i + ")'>AddMoney</button></td>" +
                "<td><button onclick='submoney(" + i + ")'>SubMoney</button></td>" +
                "</tr>";
        }
        table += "</table>";
        document.getElementById("tableUser").innerHTML = table;
    }

    function addmoney(i) {
        let m = prompt("Số tiền cần nhập") * 1;
        listUser[i].themTien(m);
        displayListUser(listUser);
    }

    function submoney(i) {
        let m;
        let flag = false;
        do {
            m = prompt("Số tiền cần nhập") * 1;
            if (m > listUser[i].moneyAccount) {
                alert("Số Dư Không Đủ");
                flag = true;
            }
        } while (flag);
        listUser[i].truTien(m);
        displayListUser(listUser);
    }

    displayListUser(listUser)
</script>
</body>
</html>